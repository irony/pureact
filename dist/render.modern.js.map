{"version":3,"file":"render.modern.js","sources":["../src/render.js"],"sourcesContent":["const snabbdom = require('snabbdom')\nconst patch = snabbdom.init([ \n  require('snabbdom/modules/class').default,\n  require('snabbdom/modules/props').default,\n  require('snabbdom/modules/style').default,\n  require('snabbdom/modules/attributes').default,\n  require('snabbdom/modules/eventlisteners').default\n])\nconst h = require('snabbdom/h').default\nconst omit = (o, fields) => Object.keys(o).reduce((a, b) => !fields.includes(b) ? Object.assign(a, {[b]: o[b]}) : a, {})\nconst shadowRoot = (child) => h('span', {}, child.map(deflate)) // Should be replaced with reference to parent instead?\nconst deflate = (child) => child ? (Array.isArray(child) ? shadowRoot(child) : child.tagName ? vtree(child) : child) : ''\nfunction vtree (tree) {\n  const props = omit(tree, ['element', 'children', 'style', 'tagName'])\n  const children = tree.children && tree.children.map(deflate)\n  return h(tree.tagName, {props, style: tree.style, attrs: props.attrs || (props.properties || {}).attributes}, children)\n}\nfunction render (tree, node, oldTree) {\n  const newTree = vtree(tree)\n  if (oldTree) { patch(oldTree, newTree) } else { patch(node, newTree) }\n  return newTree\n}\nmodule.exports = render\n"],"names":["patch","require","init","default","h","deflate","child","Array","isArray","map","shadowRoot","tagName","vtree","tree","props","o","fields","Object","keys","reduce","a","b","includes","assign","[object Object]","children","style","attrs","properties","attributes","module","exports","node","oldTree","newTree"],"mappings":"AAAA,MACMA,EADWC,QAAQ,YACFC,KAAK,CAC1BD,QAAQ,0BAA0BE,QAClCF,QAAQ,0BAA0BE,QAClCF,QAAQ,0BAA0BE,QAClCF,QAAQ,+BAA+BE,QACvCF,QAAQ,mCAAmCE,UAEvCC,EAAIH,QAAQ,cAAcE,QAG1BE,EAAWC,GAAUA,EAASC,MAAMC,QAAQF,GAD9BA,CAAAA,GAAUF,EAAE,OAAQ,GAAIE,EAAMG,IAAIJ,IACKK,CAAWJ,GAASA,EAAMK,QAAUC,EAAMN,GAASA,EAAS,GACvH,SAASM,EAAOC,GACd,MAAMC,GAJMC,EAIOF,EAJJG,EAIU,CAAC,UAAW,WAAY,QAAS,WAJhCC,OAAOC,KAAKH,GAAGI,OAAO,CAACC,EAAGC,IAAOL,EAAOM,SAASD,GAAqCD,EAAhCH,OAAOM,OAAOH,EAAG,CAACI,CAACH,GAAIN,EAAEM,KAAU,KAAxG,IAACN,EAAGC,EAKf,MAAMS,EAAWZ,EAAKY,UAAYZ,EAAKY,SAAShB,IAAIJ,GACpD,OAAOD,EAAES,EAAKF,QAAS,CAACG,MAAAA,EAAOY,MAAOb,EAAKa,MAAOC,MAAOb,EAAMa,QAAUb,EAAMc,YAAc,IAAIC,YAAaJ,GAOhHK,OAAOC,QALP,SAAiBlB,EAAMmB,EAAMC,GAC3B,MAAMC,EAAUtB,EAAMC,GAEtB,OADeb,EAAXiC,GAAkDD,EAAxBE,GACvBA"}