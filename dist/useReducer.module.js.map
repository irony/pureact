{"version":3,"file":"useReducer.module.js","sources":["../src/useReducer.js"],"sourcesContent":["const createStore = require('./createStore')\nlet state = []\nlet cursor = -1\n\nfunction useReducer(reducer, initialState) {\n  const current = cursor++\n  const store = (state[current] =\n    state[current] || initialState.dispatch\n      ? initialState\n      : createStore(reducer, initialState))\n  return [store.getState(), store.dispatch.bind(store)]\n}\n\n// internal, only used for tests\nuseReducer.__reset = () => {\n  state = []\n  cursor = []\n  useReducer.flush()\n}\n\nuseReducer.flush = () => (cursor = -1)\n\nmodule.exports = useReducer\n"],"names":["createStore","require","state","cursor","useReducer","reducer","initialState","current","store","dispatch","getState","bind","__reset","flush","module","exports"],"mappings":"AAAA,IAAMA,EAAcC,QAAQ,iBACxBC,EAAQ,GACRC,GAAU,EAEd,SAASC,EAAWC,EAASC,GAC3B,IAAMC,EAAUJ,IACVK,EAASN,EAAMK,GACnBL,EAAMK,IAAYD,EAAaG,SAC3BH,EACAN,EAAYK,EAASC,GAC3B,MAAO,CAACE,EAAME,WAAYF,EAAMC,SAASE,KAAKH,IAIhDJ,EAAWQ,QAAU,WACnBV,EAAQ,GACRC,EAAS,GACTC,EAAWS,SAGbT,EAAWS,MAAQ,kBAAOV,GAAU,GAEpCW,OAAOC,QAAUX"}