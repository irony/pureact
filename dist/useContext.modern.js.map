{"version":3,"file":"useContext.modern.js","sources":["../src/useContext.js"],"sourcesContent":["let state = []\nlet cursor = -1\n\nfunction useContext (context) {\n  const current = cursor++\n  const store = state[current] = (state[current] || context)\n  return {state: store.getState(), dispatch: store.dispatch.bind(store)}\n}\n\n// internal, only used for tests\nuseContext.__reset = () => {\n  state = []\n  cursor = []\n  useContext.flush()\n}\n\nuseContext.flush = () => cursor = -1\n\nmodule.exports = useContext\n"],"names":["state","cursor","useContext","context","current","store","getState","dispatch","bind","__reset","flush","module","exports"],"mappings":"AAAA,IAAIA,EAAQ,GACRC,GAAU,EAEd,SAASC,EAAYC,GACnB,MAAMC,EAAUH,IACVI,EAAQL,EAAMI,GAAYJ,EAAMI,IAAYD,EAClD,MAAO,CAACH,MAAOK,EAAMC,WAAYC,SAAUF,EAAME,SAASC,KAAKH,IAIjEH,EAAWO,QAAU,KACnBT,EAAQ,GACRC,EAAS,GACTC,EAAWQ,SAGbR,EAAWQ,MAAQ,IAAMT,GAAU,EAEnCU,OAAOC,QAAUV"}