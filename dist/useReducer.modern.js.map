{"version":3,"file":"useReducer.modern.js","sources":["../src/useReducer.js"],"sourcesContent":["const createStore = require('./createStore')\nlet state = []\nlet cursor = -1\n\nfunction useReducer(reducer, initialState) {\n  const current = cursor++\n  const store = state[current] = (state[current] || initialState.dispatch ? initialState : createStore(reducer, initialState))\n  return [store.getState(), store.dispatch.bind(store)]\n}\n\n// internal, only used for tests\nuseReducer.__reset = () => {\n  state = []\n  cursor = []\n  useReducer.flush()\n}\n\nuseReducer.flush = () => cursor = -1\n\nmodule.exports = useReducer\n"],"names":["createStore","require","state","cursor","useReducer","reducer","initialState","current","store","dispatch","getState","bind","__reset","flush","module","exports"],"mappings":"AAAA,MAAMA,EAAcC,QAAQ,iBAC5B,IAAIC,EAAQ,GACRC,GAAU,EAEd,SAASC,EAAWC,EAASC,GAC3B,MAAMC,EAAUJ,IACVK,EAAQN,EAAMK,GAAYL,EAAMK,IAAYD,EAAaG,SAAWH,EAAeN,EAAYK,EAASC,GAC9G,MAAO,CAACE,EAAME,WAAYF,EAAMC,SAASE,KAAKH,IAIhDJ,EAAWQ,QAAU,KACnBV,EAAQ,GACRC,EAAS,GACTC,EAAWS,SAGbT,EAAWS,MAAQ,IAAMV,GAAU,EAEnCW,OAAOC,QAAUX"}