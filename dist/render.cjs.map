{"version":3,"file":"render.cjs","sources":["../src/render.js"],"sourcesContent":["const snabbdom = require('snabbdom')\nconst patch = snabbdom.init([\n  require('snabbdom/modules/class').default,\n  require('snabbdom/modules/props').default,\n  require('snabbdom/modules/style').default,\n  require('snabbdom/modules/attributes').default,\n  require('snabbdom/modules/eventlisteners').default,\n])\nconst h = require('snabbdom/h').default\nconst omit = (o, fields) =>\n  Object.keys(o).reduce(\n    (a, b) => (!fields.includes(b) ? Object.assign(a, { [b]: o[b] }) : a),\n    {}\n  )\nconst shadowRoot = (child) => h('span', {}, child.map(deflate)) // Should be replaced with reference to parent instead?\nconst deflate = (child) =>\n  child\n    ? Array.isArray(child)\n      ? shadowRoot(child)\n      : child.tagName\n      ? vtree(child)\n      : child\n    : ''\nfunction vtree(tree) {\n  const props = omit(tree, ['element', 'children', 'style', 'tagName'])\n  const children = tree.children && tree.children.map(deflate)\n  return h(\n    tree.tagName,\n    {\n      props,\n      style: tree.style,\n      attrs: props.attrs || (props.properties || {}).attributes,\n    },\n    children\n  )\n}\nfunction render(tree, node, oldTree) {\n  const newTree = vtree(tree)\n  if (oldTree) {\n    patch(oldTree, newTree)\n  } else {\n    patch(node, newTree)\n  }\n  return newTree\n}\nmodule.exports = render\n"],"names":["patch","require","init","h","deflate","child","Array","isArray","map","shadowRoot","tagName","vtree","tree","o","fields","props","Object","keys","reduce","a","b","includes","assign","children","style","attrs","properties","attributes","module","exports","node","oldTree","newTree"],"mappings":"AAAA,IACMA,EADWC,QAAQ,YACFC,KAAK,CAC1BD,QAAQ,kCACRA,QAAQ,kCACRA,QAAQ,kCACRA,QAAQ,uCACRA,QAAQ,6CAEJE,EAAIF,QAAQ,sBAOZG,EAAU,SAACC,UACfA,EACIC,MAAMC,QAAQF,GAHD,SAACA,UAAUF,EAAE,OAAQ,GAAIE,EAAMG,IAAIJ,IAI9CK,CAAWJ,GACXA,EAAMK,QACNC,EAAMN,GACNA,EACF,IACN,SAASM,EAAMC,GACb,IAfYC,EAAGC,EAeTC,GAfMF,EAeOD,EAfJE,EAeU,CAAC,UAAW,WAAY,QAAS,WAd1DE,OAAOC,KAAKJ,GAAGK,OACb,SAACC,EAAGC,gBAAQN,EAAOO,SAASD,GAAuCD,EAAlCH,OAAOM,OAAOH,UAAMC,GAAIP,EAAEO,QAC3D,KAaIG,EAAWX,EAAKW,UAAYX,EAAKW,SAASf,IAAIJ,GACpD,OAAOD,EACLS,EAAKF,QACL,CACEK,MAAAA,EACAS,MAAOZ,EAAKY,MACZC,MAAOV,EAAMU,QAAUV,EAAMW,YAAc,IAAIC,YAEjDJ,GAYJK,OAAOC,QATP,SAAgBjB,EAAMkB,EAAMC,GAC1B,IAAMC,EAAUrB,EAAMC,GAMtB,OAJEZ,EADE+B,GAGID,EAFSE,GAIVA"}